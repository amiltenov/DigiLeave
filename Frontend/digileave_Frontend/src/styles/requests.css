/* === root layout (kept) === */
.requests-root {
  background:transparent;
  color: var(--color-text);
  min-height: 100vh;
  display:flex; justify-content:center;
}

.requests-inner {
  max-width: 1120px;
  margin: 0 auto;
  /* padding: 24px 16px; */
}

/* utility */
.centered {
  display: grid;
  place-items: center;
  min-height: 40vh;
  text-align: center;
}

/* --- headings & muted text --- */
.rq-h1 {
  font-size: clamp(24px, 2.4vw, 34px);
  line-height: 1.2;
  font-weight: 800;
  margin: 0 0 6px;
}

.rq-muted {
  color: var(--color-muted, color-mix(in oklab, var(--color-text) 60%, transparent));
  font-size:large;
  padding-left: 2px;
}

/* --- page header --- */
.rq-pagehead {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 24px;
}

/* keep your button look but enhance */
.new-request-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-weight: 700;
  border-radius: 12px;
  padding: 10px 14px;
  background: var(--color-accent);
  color: var(--color-on-accent, #111);
  box-shadow: var(--shadow-m, 0 8px 20px color-mix(in oklab, var(--color-accent) 35%, transparent));
  border: none;
  text-decoration: none;
  transition: transform .12s ease, box-shadow .2s ease, filter .2s ease;
}
.new-request-btn:hover { transform: translateY(-1px); filter: brightness(1.03); }
.new-request-btn:active { transform: translateY(0); }


/* --- controls --- */
.rq-controls {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  margin: 12px 0 16px;
  flex-wrap: wrap;
}

.rq-sort { display:flex; align-items:center; gap:10px; }
.rq-ico { opacity:.7; }
.rq-select select{
  appearance:none;
  background: var(--surface-1, color-mix(in oklab, var(--color-text) 6%, var(--color-bg)));
  color: var(--color-text);
  border: 1px solid var(--color-border, color-mix(in oklab, var(--color-text) 12%, transparent));
  padding: 8px 12px;
  border-radius: 10px;
  font-weight: 600;
  min-width: 180px;
}

.rq-viewtoggle {
  display:inline-flex;
  gap:6px;
  padding:6px;
  background: color-mix(in oklab, var(--color-text) 4%, var(--color-bg));
  border:1px solid var(--color-border, color-mix(in oklab, var(--color-text) 12%, transparent));
  border-radius:12px;
  box-shadow: var(--shadow-s, 0 2px 8px rgba(0,0,0,.03));
}
.rq-togglebtn{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 12px;
  border-radius:10px;
  font-weight:700;
  border:none;
  background: transparent;
  color: var(--color-muted, color-mix(in oklab, var(--color-text) 55%, transparent));
  cursor:pointer;
  transition: background .15s ease, transform .06s ease, color .15s ease;
}
.rq-togglebtn:hover{ background: color-mix(in oklab, var(--color-text) 6%, transparent); color: var(--color-text); }
.rq-togglebtn.is-active{
  background: var(--color-bg);
  color: var(--color-text);
  box-shadow: var(--shadow-s, 0 2px 6px rgba(0,0,0,.05));
  transform: scale(1.02);
}
.rq-hide-sm{ display:none; }
@media (min-width:640px){ .rq-hide-sm{ display:inline; } }

/* --- badges (status) --- */
:root {
  --rq-approved: #16a34a; /* green */
  --rq-approved-bg: color-mix(in oklab, #16a34a 14%, white);
  --rq-denied: #ef4444;   /* red */
  --rq-denied-bg: color-mix(in oklab, #ef4444 14%, white);
  --rq-pending: #f59e0b; /* amber */
  --rq-pending-bg: color-mix(in oklab, #f59e0b 18%, white);
  --rq-primary: var(--color-accent, #f6c445);
}

[data-theme="dark"] {
  --rq-approved-bg: color-mix(in oklab, #16a34a 22%, black);
  --rq-denied-bg: color-mix(in oklab, #ef4444 22%, black);
  --rq-pending-bg: color-mix(in oklab, #f59e0b 26%, black);
}

.rq-badge{
  display:inline-flex; align-items:center; justify-content:center;
  padding: 4px 10px;
  font-size: 11px;
  letter-spacing:.3px;
  text-transform: uppercase;
  border-radius: 999px;
  font-weight: 800;
  border: 1px solid transparent;
}
.rq-badge--approved{ background: var(--rq-approved-bg); color: var(--rq-approved); border-color: var(--rq-approved-bg); }
.rq-badge--denied{ background: var(--rq-denied-bg); color: var(--rq-denied); border-color: var(--rq-denied-bg); }
.rq-badge--pending{ background: var(--rq-pending-bg); color: var(--rq-pending); border-color: var(--rq-pending-bg); }

/* --- NEW pill --- */
.rq-new-pill{
  position:absolute;
  top:-10px; right:-10px;
  display:inline-flex; align-items:center; gap:6px;
  padding: 6px 10px;
  font-size: 11px; font-weight: 800;
  background: var(--rq-primary);
  color: var(--color-on-accent, #111);
  border-radius: 999px;
  box-shadow: 0 8px 18px color-mix(in oklab, var(--rq-primary) 35%, transparent);
}

/* --- Cards --- */
.rq-grid{ display:grid; grid-template-columns:1fr; gap:12px; }
@media (min-width: 768px){ .rq-grid{ grid-template-columns: repeat(2,1fr); } }
@media (min-width: 1100px){ .rq-grid{ grid-template-columns: repeat(3,1fr); } }

.rq-card{
  position:relative;
  background: var(--surface-1, color-mix(in oklab, var(--color-text) 6%, var(--color-bg)));
  border:1px solid var(--color-border, color-mix(in oklab, var(--color-text) 12%, transparent));
  border-radius: 16px;
  padding: 18px;
  transition: box-shadow .2s ease, transform .08s ease;
  cursor: pointer;
}
.rq-card:hover{ box-shadow: 0 14px 32px rgba(0,0,0,.09); transform: translateY(-1px); }

.rq-card__head{ display:flex; gap:14px; margin-bottom:8px; }
.rq-avatar{
  width:48px; height:48px; border-radius:999px;
  background: color-mix(in oklab, var(--rq-primary) 22%, transparent);
  color: var(--rq-primary); display:flex; align-items:center; justify-content:center;
  font-weight: 800;
}
.rq-card__title{ min-width:0; }
.rq-card__name{ font-weight:800; font-size:16px; }
.rq-card__email{ font-size:12px; color: var(--color-muted, #888); overflow:hidden; text-overflow:ellipsis; }

.rq-card__row{ display:flex; align-items:center; gap:8px; margin: 8px 0; color: var(--color-text); }
.rq-card__dates{ font-weight:600; }

.rq-card__meta{ display:flex; align-items:center; justify-content:space-between; gap:8px; margin: 6px 0; }
.rq-card__type{ color: var(--color-muted, #777); }
.rq-card__days{ color: var(--color-muted, #777); }
.rq-card__days strong{ color: var(--color-text); }

.rq-card__comment{
  margin-top:10px; padding:10px 12px; border-radius:10px;
  background: color-mix(in oklab, var(--color-text) 6%, transparent);
}

/* --- Compact list --- */
.rq-list{
  background: var(--surface-1, color-mix(in oklab, var(--color-text) 6%, var(--color-bg)));
  border:1px solid var(--color-border, color-mix(in oklab, var(--color-text) 12%, transparent));
  border-radius: 14px; overflow: hidden;
}
.rq-compact{
  position:relative;
  display:flex; gap:12px; padding:10px 14px;
  border-bottom:1px solid var(--color-border, color-mix(in oklab, var(--color-text) 10%, transparent));
  cursor:pointer;
}
.rq-compact:last-child{ border-bottom:0; }
.rq-compact--new{ background: color-mix(in oklab, var(--rq-primary) 10%, transparent); box-shadow: inset 3px 0 0 var(--rq-primary); }
.rq-compact__avatar{
  width:40px; height:40px; border-radius:999px;
  background: color-mix(in oklab, var(--rq-primary) 22%, transparent);
  color: var(--rq-primary); display:flex; align-items:center; justify-content:center;
  font-weight: 800; flex:0 0 auto;
}
.rq-compact__body{ min-width:0; flex:1; }
.rq-compact__top{ display:flex; align-items:center; gap:8px; margin-bottom:2px; }
.rq-compact__name{ font-weight:700; }
.rq-compact__sub{ display:flex; align-items:center; gap:8px; color: var(--color-muted, #777); font-size: 12px;}
.rq-dot{ width:4px; height:4px; border-radius:50%; background: currentColor; opacity:.6; }
.rq-ellipsis{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

/* --- Table --- */
.rq-tablewrap{
  background: var(--surface-1, color-mix(in oklab, var(--color-text) 6%, var(--color-bg)));
  border:1px solid var(--color-border, color-mix(in oklab, var(--color-text) 12%, transparent));
  border-radius: 14px; overflow: hidden;
  box-shadow: var(--shadow-s, 0 2px 8px rgba(0,0,0,.04));
}
.rq-scroll{ overflow-x:auto; }
.rq-table{ width:100%; border-collapse: separate; border-spacing:0; }
.rq-table thead th{
  text-align:left; font-weight:800; padding:14px; background: color-mix(in oklab, var(--color-text) 5%, transparent);
  border-bottom:1px solid var(--color-border, color-mix(in oklab, var(--color-text) 12%, transparent));
}
.rq-table td{ padding:14px; border-bottom:1px solid var(--color-border, color-mix(in oklab, var(--color-text) 10%, transparent)); }
.rq-row--new{ background: color-mix(in oklab, var(--rq-primary) 10%, transparent); box-shadow: inset 4px 0 0 var(--rq-primary); }
.rq-days{ font-weight:800; color: var(--color-accent); }
.rq-days em{ font-style:normal; font-weight:600; color: var(--color-muted, #777); }
.rq-nowrap{ white-space:nowrap; }
.rq-statuscell{ display:flex; align-items:center; gap:10px; }
.rq-statuscell__new{ font-size:11px; font-weight:800; color: var(--rq-primary); }
.rq-dot--pulse{ width:8px; height:8px; border-radius:999px; background: var(--rq-primary); animation: rqPulse 1.4s infinite; }
@keyframes rqPulse { 0%{opacity:.4} 50%{opacity:1} 100%{opacity:.4} }

/* --- empty & skeleton --- */
.rq-empty .rq-skeleton{
  width:min(560px, 90%);
  height: 120px;
  border-radius: 14px;
  background: linear-gradient(90deg,
    color-mix(in oklab, var(--color-text) 6%, transparent) 25%,
    color-mix(in oklab, var(--color-text) 12%, transparent) 37%,
    color-mix(in oklab, var(--color-text) 6%, transparent) 63%);
  background-size: 400% 100%;
  animation: rqShimmer 1.3s ease-in-out infinite;
  margin-bottom: 10px;
}
@keyframes rqShimmer { 0%{background-position:100% 0} 100%{background-position:0 0} }

.rq-blank{
  background: var(--surface-1, color-mix(in oklab, var(--color-text) 6%, var(--color-bg)));
  border:1px solid var(--color-border, color-mix(in oklab, var(--color-text) 12%, transparent));
  border-radius: 16px; padding: 28px 18px;
}
.rq-blank__ico{ width:54px; height:54px; opacity:.6; margin: 0 auto 8px; }

/* --- modal --- */
.rq-modal{
  position:fixed; inset:0; display:grid; place-items:center;
  background: color-mix(in oklab, var(--color-bg) 40%, black);
  backdrop-filter: blur(4px);
  z-index: 60;
}
.rq-modal__panel{
  width:min(680px, 92%);
  background: var(--color-bg);
  color: var(--color-text);
  border:1px solid var(--color-border, color-mix(in oklab, var(--color-text) 12%, transparent));
  border-radius: 16px;
  box-shadow: 0 18px 48px rgba(0,0,0,.18);
}
.rq-modal__head{
  display:flex; align-items:center; justify-content:space-between; padding:14px 16px;
  border-bottom:1px solid var(--color-border, color-mix(in oklab, var(--color-text) 12%, transparent));
}
.rq-close{
  all:unset; cursor:pointer; font-size:22px; line-height:1;
  padding: 2px 8px; border-radius:8px;
}
.rq-close:hover{ background: color-mix(in oklab, var(--color-text) 6%, transparent); }

.rq-modal__body{ padding: 16px; }
.rq-detailgrid{ display:grid; gap:10px; grid-template-columns: 1fr; }
@media (min-width:640px){ .rq-detailgrid{ grid-template-columns: 1fr 1fr; } }
.rq-detail{ background: var(--surface-1, color-mix(in oklab, var(--color-text) 6%, var(--color-bg))); border:1px solid var(--color-border, color-mix(in oklab, var(--color-text) 10%, transparent)); border-radius:10px; padding:12px; }
.rq-detail__label{ display:flex; align-items:center; gap:8px; font-size:12px; color: var(--color-muted, #777); margin-bottom:6px; }
.rq-detail__value{ font-weight:700; }
.rq-detail__value--big{ font-size:22px; color: var(--color-accent); }
.rq-detail__value--big span{ font-size:12px; color: var(--color-muted, #777); }

.rq-comment{ margin-top:10px; }
.rq-comment__label{ font-size:12px; color: var(--color-muted, #777); margin-bottom:6px; }
.rq-comment__box{ background: color-mix(in oklab, var(--color-text) 6%, transparent); border-radius:10px; padding:10px 12px; }

.rq-timestamps{ margin-top:12px; display:grid; gap:6px; font-size: 12px; color: var(--color-muted, #777); }
.rq-modal__foot{ display:flex; align-items:center; justify-content:flex-end; gap:8px; padding: 12px 16px; border-top:1px solid var(--color-border, color-mix(in oklab, var(--color-text) 12%, transparent)); }

/* --- fix zebra var name from earlier (if still present elsewhere) --- */
.table-striped tr:nth-child(odd){ background: var(--color-bg); }


/* MOBILE ONLY: put sort trigger next to view toggle, push A–Z under them */
@media (max-width: 756px){
  /* let the top bar wrap items onto a second row */
   /* .vm.bar{
    display: flex;
    align-items: flex-start;
    gap: 8px;
  } */

  /* flatten the sort-menu so its two buttons behave like direct siblings
     of .vm.bar (no markup changes needed) */
     
     /* first row items */
  /* .vm.toggle{
    margin-left: auto;
    justify-content: flex-end;
  } */

 

    /* .vm.toggle{ margin-left: auto; justify-content: flex-end; } */
   
}


/* ===== Mobile: fix uneven gutters for cards/list ===== */
@media (max-width: 756px){
  /* make the page container use equal gutters AND respect iOS safe areas */
  .requests-inner{
    padding-left: max(16px, env(safe-area-inset-left));
    padding-right: max(16px, env(safe-area-inset-right));
  }

  /* ensure card containers don’t introduce extra horizontal offsets */
  .request-grid,
  .request-list{
    margin-left: 0;
    margin-right: 0;
  }

  /* cards should fill available width with those gutters only */
  .request-card{
    width: 100%;
    box-sizing: border-box;
    margin-left: 0;   /* neutralize any stray margins */
    margin-right: 0;
  }
}

/* Fallback for browsers without `env()` support (older Android) */
@supports not (padding: max(0px)) {
  @media (max-width: 756px){
    .requests-inner{ padding-left: 16px; padding-right: 16px; }
  }
}

/* mobile: clip horizontal overflow so the page can't drift sideways */
@media (max-width: 756px){
  html, body, .requests-root, .requests-inner { overflow-x: hidden; }
  .requests-inner {
  max-width: 1100px;
  margin: 0 auto;
  /* padding: 24px 16px; */
  width: 100%;
}
.new-request-btn{
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 8px 12px;
    font-size: 90%;

    /* let it grow to fit the text */
    width: auto;                /* ← remove 30vw */
    height: auto;               /* ← remove fixed height */
    min-height: 30px;           /* good tap target */
    white-space: nowrap;        /* keep label on one line */
    flex-shrink: 0;             /* don’t get squished in a flex row */
    max-width: 100%;            /* don’t overflow container */
  }
}
