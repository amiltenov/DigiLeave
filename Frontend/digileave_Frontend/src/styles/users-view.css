/* ========= GRID ========= */
/* desktop unchanged: two even columns with consistent gap */
.user-grid { display:grid; grid-template-columns:1fr; gap:20px; }
@media (min-width:768px){ .user-grid{ grid-template-columns:repeat(2,1fr);} }
@media (min-width:1280px){ .user-grid{ grid-template-columns:repeat(2,1fr);} }

/* ========= LIST (COMPACT WRAPPER) ========= */
.user-list{
  border:1px solid var(--color-surface-border);
  border-radius:16px;
  background: var(--color-surface);
  backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
  box-shadow: 0 6px 18px var(--color-surface-shadow);
  overflow:hidden;
}

/* ========= CARDS ========= */
.user-card{
  border:1px solid var(--color-surface-border);
  border-radius:16px;
  background: var(--color-surface);
  backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
  box-shadow: 0 6px 18px var(--color-surface-shadow);
  padding:18px 18px 14px;
  transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease;
}
.user-card:hover{
  transform: translateY(-2px);
  box-shadow: 0 10px 24px var(--color-surface-shadow);
  border-color: color-mix(in oklab, var(--color-text) 18%, transparent);
}
.user-card-head{ display:flex; align-items:center; justify-content:space-between; gap:12px; min-width:0; }
.user-identity{ display:flex; align-items:center; gap:12px; min-width:0; }

/* initials circles — slightly bigger but letters slightly smaller for balance */
.user-avatar{
  width:50px; height:50px; border-radius:50%; display:grid; place-items:center;
  font-weight:700; font-size:0.95rem;
  background: var(--color-accent); color:#111; user-select:none; flex:0 0 auto;
}
.user-title{ display:grid; gap:4px; min-width:0; }
.user-name{ font-weight:700; font-size:1.15rem; }
.user-email{ display:flex; align-items:center; gap:6px; opacity:.9; min-width:0; }

/* ========= ROLE PILLS ========= */
/* base: one fixed height, centered text, nowrap always */
.role-badge{
  display:inline-flex; align-items:center; justify-content:center;
  height:32px; padding:0 12px; border-radius:999px;
  font-weight:700; font-size:.82rem; line-height:1; white-space:nowrap;
  border:1px solid color-mix(in oklab, var(--color-text) 16%, transparent);
  background: color-mix(in oklab, var(--color-accent) 14%, transparent); /* USER default */
  max-width: 100%;
  text-align:center;
}

/* role tones */
.role-approver{
  background: color-mix(in oklab, var(--color-accent) 24%, transparent);
  border-color: color-mix(in oklab, var(--color-text) 22%, transparent);
}
.role-admin{
  background: color-mix(in oklab, #b36b00 26%, transparent);
  border-color: color-mix(in oklab, #b36b00 40%, transparent);
}

/* ========= META / ACTIONS ========= */
.user-meta{ margin-top:12px; }
.user-meta-row{ display:flex; align-items:center; gap:8px; font-weight:600; }
.user-chip{ display:grid; place-items:center; width:22px; height:22px; border-radius:8px;
  background: color-mix(in oklab, var(--color-text) 10%, transparent); }
.user-dot{ width:4px; height:4px; border-radius:50%; background: currentColor; opacity:.45; display:inline-block; }
.user-actions-row{ margin-top:14px; display:flex; gap:10px; justify-content:flex-end; }

/* ========= COMPACT (Admin Users) ========= */

/* base row — very tight, minimal chrome */
.user-compact{
  display: grid;
  grid-template-columns: auto 1fr auto; /* actions | content | role */
  column-gap: 12px;
  row-gap: 6px;
  padding: 10px 12px;
  border-bottom: 1px solid var(--color-surface-border);
  background: var(--color-surface);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}
.user-compact:last-child{ border-bottom: none; }
.user-compact:hover{ background: color-mix(in oklab, var(--color-text) 6%, transparent); }

/* left column (desktop), will move on mobile */
.user-compact-actions{
  grid-column: 1; align-self: center;
  display: inline-flex; gap: 8px;
}

/* center content */
.user-compact-content{ grid-column: 2; min-width: 0; display: grid; gap: 4px; }
.user-compact-id{ display: flex; align-items: center; gap: 10px; min-width: 0; }
.user-compact-avatar{
  width: 32px; height: 32px; border-radius: 50%;
  display: grid; place-items: center;
  font-weight: 700; font-size: .82rem;
  background: var(--color-accent); color: #111; flex: 0 0 auto;
}
.user-compact-text{ min-width: 0; }
.user-compact-name{ font-weight: 700; line-height: 1.1; }
.user-compact-email{ display: flex; align-items: center; gap: 6px; opacity: .9; }
.user-compact-email span{
  max-width: 34ch; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
}
.user-compact-since{ display: flex; align-items: center; gap: 6px; opacity: .9; }

/* right column */
.user-compact-role{
  grid-column: 3; align-self: start; justify-self: end;
  height: 28px; padding: 0 10px; border-radius: 999px;
  display: inline-flex; align-items: center; white-space: nowrap;
  font-weight: 700; font-size: .78rem;
  border: 1px solid color-mix(in oklab, var(--color-text) 16%, transparent);
}

/* ======= Mobile layout (≤756px)
   Left: all info (name, email, since)
   Top-right: role pill
   Under role: actions  */
@media (max-width: 756px){
  .user-compact{
    grid-template-columns: 1fr auto;   /* content | right rail */
    grid-template-rows: auto auto;     /* top | bottom */
    align-items: start;
    padding: 10px;
    font-size: 90%;
  }

  .user-compact-content{
    grid-column: 1; grid-row: 1 / span 2;  /* left column spans both rows */
  }

  .user-compact-role{
    grid-column: 2; grid-row: 1; justify-self: end; align-self: start;
    height: 26px; padding: 0 8px; font-size: .74rem;
  }

  .user-compact-actions{
    grid-column: 2; grid-row: 2; justify-self: end; align-self: center;
    gap: 6px;
  }
  .user-compact-actions .btn{
    padding: 6px 8px; font-size: .8rem; line-height: 1; border-radius: 8px;
  }

  .user-compact-avatar{ width: 30px; height: 30px; font-size: .8rem; }
  .user-compact-email span{ max-width: 22ch; }
}


/* ========= TABLE ========= */
.user-table-wrap{
  border:1px solid var(--color-surface-border); border-radius:16px; overflow:hidden;
  background: var(--color-surface); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
  box-shadow: 0 6px 18px var(--color-surface-shadow);
}
.user-scroll{ overflow:auto; }
.user-table{ width:100%; border-collapse:separate; border-spacing:0; }
.user-table thead th, .user-table tbody td{ padding:12px 14px; border-bottom:1px solid var(--color-surface-border); }
.user-table thead th{ font-weight:700; background: color-mix(in oklab, var(--color-accent) 18%, transparent); }
.user-nowrap{ white-space:nowrap; }
.user-ellipsis{ max-width:420px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.user-table-id{ display:flex; align-items:center; gap:10px; }

/* table initials */
.user-table-avatar{
  width:32px; height:32px; border-radius:50%; display:grid; place-items:center;
  background:var(--color-accent); color:#111; font-weight:700; font-size:.9rem;
}

/* center Role column */
.role-col { text-align:center; }

/* space between Edit / Delete in table */
.user-actions-cell{ white-space:nowrap; }
.user-actions-cell .btn + .btn { margin-left:10px; }

/* =========================
   1) CARDS — MOBILE ONLY
   Make role pill taller so it never overlaps
   ========================= */
@media (max-width: 640px){
  .user-card .role-badge{
    height: 36px;
    padding: 0 14px;
    font-size: .75rem;
    margin-top: -10%;
  }
}

/* =========================
   2) TABLE — MOBILE ONLY
   Smaller text + give "Working since" room (no wrap)
   ========================= */
@media (max-width: 640px){
  .user-table{
    font-size: 0.95rem;
  }
  .user-table thead th,
  .user-table tbody td{
    padding: 10px 12px;
  }
  /* Email gets reasonable width, stays ellipsized */
  .user-table th:nth-child(2){ width: 40%; }
  .user-table td:nth-child(2){ max-width: 28ch; }

  /* Working since: no wrap, reserve space */
  .user-table th:nth-child(4),
  .user-table td:nth-child(4){
    white-space: nowrap;
    width: 1%;            /* lets the column size to content */
  }
}

/* DESKTOP ONLY: info left; RIGHT rail = role (top-right) + actions (bottom-right) */
@media (min-width: 757px){
  .user-compact{
    grid-template-columns: 1fr auto;  /* content | right rail */
    grid-template-rows: auto auto;    /* top | bottom */
    column-gap: 12px;
    row-gap: 6px;
  }

  /* left column spans both rows */
  .user-compact-content{
    grid-column: 1;
    grid-row: 1 / span 2;
    margin-bottom: 6px;
    margin-top: 2px;
  }

  /* right column */
  .user-compact-role{
    grid-column: 2;
    grid-row: 1;             /* top-right */
    justify-self: end;
    align-self: start;
  }

  .user-compact-actions{
    grid-column: 2;
    grid-row: 2;             /* bottom-right */
    justify-self: end;
    align-self: end;
    gap: 10px;
  }
}
